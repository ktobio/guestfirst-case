/**********************************************************************************File        : guestfirst-case-a.do  <--- this should be the exact name of THIS documentAuthor      : Kristina Tobio Created     : 15 Nov 2016Modified    : 17 Nov 2016Description : .do file for guestfirst Case Part A **********************************************************************************/// these commands prepare your computer for the data and analysis// this finds and closes open log filescapture log close        // this clears Stata's data memory so new data can be loadedclear       // this makes it so you don't have to keep pressing return/enter to scroll through resultsset more off          // this sets memory sizeset mem 100m       // this keeps everything visible on a normal monitor or laptop screenset linesize 200    // cd means "change directory"// you need to change this to the location on your computer where you are storing the .do and data files*cd "/Users/ktobio/Desktop/Jeff/Course/guestfirst/guestfirst-case/"       // this creates a log file, which will record all of the commands and outputs from this .do file // log files should be placed in a folder named "logs" in your directory log using "logs/guestfirst-case-a", replace/*************************************************************// Note: "data/guestfirst-case-data-part-a.csv" contains the "untransformed" version of the data// To transform that data, rather than use "data/guestfirst-case-data-part-b.csv" directly, do the following:// this command reads the data into Statainsheet using "data/guestfirst-case-data-part-a.csv", names// create a company variableg company=_n// reshape the datareshape long proper year revpar comprev loyal, i(company) j(year_check)// make sure everything looks okcountcount if year==year_checkdrop year_checksave "data/guestfirst-case-data-part-a.dta", replace*************************************************************/// data should be placed in a folder named "data" in your directory // the data is in .csv (comma seperated values) format// this command reads the data into Statainsheet using "data/guestfirst-case-data-part-b.csv", names// and this saves it as a Stata data filesave "data/guestfirst-case-data-part-b.dta", replace// Walking through the Teaching Notes// Part 1: Relationship Between Loyalty (loyal) and Revenue per Available Room (revpar) in Each Year// We could run four separate regressions:regress revpar loyal if year==1997regress revpar loyal if year==1998regress revpar loyal if year==1999regress revpar loyal if year==2000// Alternatively, we could use the "bysort" command, which automatically runs through each value of yearbysort year: regress revpar loyal// Do things change if we control for the competitors' revenue?bysort year: regress revpar comprev loyal// What happens when we combine all four years of data?regress revpar comprev loyal// What if we add dummy variables for each site to our regression?// Note: This dataset already includes site dummies, but if they didn't, we could create them using the following code:/**********************************************//Code for creating dummy variablestab property, generate(propdum)**********************************************/// The dummy variables are d1, d2, d3...d42// We don't have to type each variable - we can simply type "d1-d42," which incorporates them allregress revpar comprev loyal d1-d42// Alternatively, we could create dummy variables within the regression using the "i." commandregress revpar comprev loyal i.property// closes your loglog close// drops all data from Stata's memoryclear